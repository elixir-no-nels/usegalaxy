pulsar_virtualenv_command: virtualenv-3

pulsar_user: pulsar
pulsar_group: pulsar

pulsar_server_dir: /mnt/users/usegalaxy_no/server
pulsar_venv_dir: /mnt/users/usegalaxy_no/venv
pulsar_config_dir: /mnt/users/usegalaxy_no/config
pulsar_staging_dir: /mnt/users/usegalaxy_no/staging
pulsar_cache_dir: /mnt/users/usegalaxy_no/cache
pulsar_systemd: true

#pulsar_host: 0.0.0.0
#pulsar_port: 8913

pulsar_private_token: !vault |
                      $ANSIBLE_VAULT;1.1;AES256
                      66373761626431306234326534626333373636666239633064343532303565386463306337373564
                      3839613564303237376537613438323136383166333337650a623766363139396330343233343430
                      34313439303835386462373364653438306362306436643666313665303935333839653466616438
                      3531333363646665630a643836303466356364663661613761303633303135303634666234323564
                      64653934646232313738666331306663356436393066656535653763363234633436
pulsar_rabbitmq_username: nmbu_galaxy
pulsar_rabbitmq_password: !vault |
                          $ANSIBLE_VAULT;1.1;AES256
                          66383034366633646635643133393238356564626337616636306432376632656161366438656165
                          3266643033363266656134626432353831316539636662630a393338623161653366633232393530
                          63636333323230393933643864303562323065663733663139396238383539663165343034363132
                          6535633366623737650a356239613730373435366233633439306130393865653837336539646466
                          62646536393862653031363663303861326363346132623635326132653336333762
pulsar_rabbitmq_proxy: "{{ groups['database'][0] }}"
pulsar_rabbitmq_vhost: pulsar_nmbu_orion

pulsar_message_queue: "pyamqp://{{ pulsar_rabbitmq_username}}:{{ pulsar_rabbitmq_password}}@{{ pulsar_rabbitmq_proxy }}:5671/rabbitmq/{{ pulsar_rabbitmq_vhost }}/"
pulsar_create_user: false

pulsar_optional_dependencies:
  - pyOpenSSL
  # For remote transfers initiated on the Pulsar end rather than the Galaxy end
  - pycurl
  # uwsgi used for more robust deployment than paste
  - uwsgi
  # drmaa required if connecting to an external DRM using it.
  - drmaa
  # kombu needed if using a message queue
  - kombu
  # requests and poster using Pulsar remote staging and pycurl is unavailable
  - requests
  # psutil and pylockfile are optional dependencies but can make Pulsar
  # more robust in small ways.
  - psutil

pulsar_yaml_config:
  dependency_resolvers_config_file: dependency_resolvers_conf.xml
  conda_auto_init: True
  conda_auto_install: True
  staging_directory: "{{ pulsar_staging_dir }}"
  private_token: "{{ pulsar_private_token }}"
  message_queue_url: "{{ pulsar_message_queue }}"
  file_cache_dir: "{{ pulsar_cache_dir }}"
  #pyamqp://username:password@proxy.usegalaxy.eu:5671//pulsar/galaxy_test?ssl=1
  # Add the following at some point, to use Slurm:
  #managers:
  #_default_:
  #  type: queued_drmaa
  #  native_specification: "--partition=hugemem"
