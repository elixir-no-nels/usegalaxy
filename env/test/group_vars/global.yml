galaxy_host: "{{ groups['galaxyserver'][0] }}"
galaxy_ip: "{{ hostvars[galaxy_host].ansible_host }}"

galaxy_admin_email_to: "admin@usegalaxy.no"
galaxy_admin_email_from: "admin@usegalaxy.no"
galaxy_admin: "admin@usegalaxy.no, torfinn.nome@nmbu.no"
galaxy_master_api_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  66623436623533333830653136366637303830376365396365343438386130386338636564323231
  3164623361373761623738613265666165313263363466640a326465353038313263333862623263
  63616435383939653130376365643937636266356264306133666638363039643832366138353363
  6230366431373135340a346463366239373061336564383034363537306364613663343431333633
  66393039633133646462376130323230313864666566626462363436303533356265643231343738
  6261323632316134663239363166323630666137356361333961


db_host: "{{ groups['database'][0] }}"
database_ip: "{{ hostvars[db_host].ansible_host }}"
galaxy_db_user: "galaxy"
galaxy_database: "galaxy-test"
galaxy_db_passwd: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  36633963313039613435326430643565346130633639383262653239653336326261323135306537
  3961316139623533313932326233633137363730363966620a313732626136333535366563313137
  62343137386633666233646638346665313664653263613364626166666462343034616533383261
  3034353862313535620a343635646137623161316165383739626534386265313530323462343835
  3665

# variables generated based on the information above, should only need to edit in extreme cases
db_connection: "postgresql://{{galaxy_db_user}}:{{galaxy_db_passwd}}@{{db_host}}/{{galaxy_database}}"
# certs for the frontend
#ssl_cert: "/etc/letsencrypt/live/{{galaxy_host}}/fullchain.pem"
#ssl_key: "/etc/letsencrypt/live/{{galaxy_host}}/privkey.pem"
#ssl_chain: "/etc/letsencrypt/live/{{galaxy_host}}/chain.pem"


gpg_key_name: admin@usegalaxy.no

# Install the latest version of Telegraf
telegraf_agent_package_state: latest

# Configure the output to point to an InfluxDB
# running on localhost, and # place data in the
# database "telegraf" which will be created if need be.
telegraf_agent_output:
  - type: influxdb
    config:
    - urls = ["https://maas-test.bioinfo.no/influx/"]
    - database = "usegalaxy"
    - username = "usegalaxy"
    - password = !vault |
                 $ANSIBLE_VAULT;1.1;AES256
                 35343832356535666332363232323538313034613337393064623263336162343535613538323766
                 3436326638303232326137343438363730646665646533390a313036316334636237636165336466
                 34323730386434623334383262616439393261613238333136663030373664313132363032633631
                 3366353363646638370a643436306337393433343236393363353237313562623835366161336430
                 32633931373833623261373562316561346236636137363032613331616335663061

# The default plugins, applied to any telegraf-configured host
telegraf_plugins_default:
  - plugin: cpu
  - plugin: disk
  - plugin: kernel
  - plugin: processes
  - plugin: io
  - plugin: mem
  - plugin: system
  - plugin: swap
  - plugin: net
  - plugin: netstat

  # system.yml
dhclient_interface: "{{ ansible_default_ipv4.interface }}"
dhclient_config:
  - "timeout 300;"
  - "retry 60;"
  - "supersede domain-search \"usegalaxy.no\";"

# Postfix
#postfix_relayhost: smtp.uib.no # TODO: Make sure this works
#postfix_aliases:
#  - user: root
#    alias: torfinn.nome@nmbu.no
